{% extends "base.html" %}

{% load crispy_forms_tags %}

{% block content %}
<div class="container">
    <h1>Edit Booking</h1>

    <!-- Display current booking details -->
    <h3>Booking Details</h3>
    <p><strong>Booking ID:</strong> {{ booking.id }}</p>

    <p><strong>User:</strong> 
        {% if booking.user %}
            {{ booking.user.username }}
        {% else %}
            N/A
        {% endif %}
    </p>

    <p><strong>Date:</strong> {{ booking.date }}</p>
    <p><strong>Time:</strong> {{ booking.time }}</p>
    <p><strong>Number of People:</strong> {{ booking.number_of_people }}</p>
    <p><strong>Additional Notes:</strong> {{ booking.additional_notes|default:"N/A" }}</p>
    <p><strong>Status:</strong> {{ booking.get_status_display }}</p>
    <p><strong>Assigned Table:</strong> 
        {% if booking.table %}
            {{ booking.table.table_number }}
        {% else %}
            Not Assigned
        {% endif %}
    </p>

    <hr>

    <!-- Form to update status and assign table -->
    <h3>Update Booking</h3>
    <form method="POST">
        {% csrf_token %}
        {{ form | crispy }}
        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>
</div>
{% endblock content %}